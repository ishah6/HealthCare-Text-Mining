Possibly the weakness and pain in your knees is due to a weak quadriceps, I 
suggest that you start a consistent exercise routine aimed to strengthen 
the leg muscles, you can ride a bike 2 or 3 times a week and also do series 
of squat exercises at home. Walking for 30 to 45 minutes at least three 
times a week may be useful too in your case. Regarding your low weight, I 
suggest a consultation with a nutritionist, who will give you a healthy 
diet so you can gain some weight. 